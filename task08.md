##                             Лабораторная работа 8. Преобразование браузерного приложения в SPA с серверной базой данных

На основе браузерного приложения, работающего с базой данных IndexedDB (л/р 7), написать простое Single Page Application, которое с помощью REST API взаимодействует с базой данных SQLite на сервере.
Backend приложения реализовать в соответствии с паттерном Front Controller с помощью либо встроенных механизмов PHP (80% от максимального балла за задание), либо PHP-микрофреймворка Slim (максимальный балл за задание).

Frontend будет обмениваться с сервером данными в JSON-формате посредством HTTP-запросов. Маршруты запросов должны соответствовать REST API:
|Метод|Путь|Описание|
|-----|----|--------|
|GET|games|Сервер отдает JSON с данными о всех играх, сохраненных в БД|
|GET|games/{id}|Сервер отдает JSON с данными о ходах игры с идентификатором id|
|POST|games|Сервер принимает JSON с данными о новой начатой игре и записывает их в БД. При этом возвращается идентификатор игры|
|POST|step/{id}|Сервер принимает JSON с данными об очередном ходе в игре с идентификатором id и записывает их в БД|

### Просмотр видеолекций
* Видеолекции для данного задания: "Frontend и backend. Веб-приложения на PHP" https://youtu.be/nngT3DShFF4,"Веб-приложения на PHP. Часть 2" https://youtu.be/z3lmJndVIho (МГУ им. Н.П. Огарева, апрель 2021 года)
**Посмотреть обязательно!**

### Создание новой ветки в локальном Git-репозитории. Файловая структура
* Создать в локальном репозитории ветку Task08. Далее работать в этой ветке в каталоге Task08.
* Создать каталог Task08/public. Это будет корень нашего сайта, в нем размещаются только те файлы, которые можно открыть напрямую из браузера.

### Запуск веб-сервера
* Будем использовать локальный веб-сервер, встроенный в PHP. Запускать сервер будем на порту 3000.
* Находясь в каталоге Task08, запустить сервер с указанием подкаталога public в качестве корня сайта: `php -S localhost:3000 -t public`.

### Размещение frontend-части приложения
* Нужные для работы сайта файлы index.html, *.css, *.js, созданные в л/р 7, скопировать в Task08/public.
* Проверить работу приложения, открыв в браузере страницу http://localhost:3000/index.html или просто http://localhost:3000/.

### Размещение базы данных
* Базу данных SQLite разместить в каталоге Task08/db.

### Создание backend-части приложения с помощью микрофреймворка Slim
* В каталоге Task08 устанавливаем через Composer минимально необходимые пакеты для Slim:
```
composer require slim/slim slim/psr7 slim/http
``` 
В результате должны создаться файлы Task08/composer.json, Task08/composer.lock и каталог Task08/vendor.
* Создаем точку входа Task08/public/index.php. Больше никаких PHP-файлов в Task08/public быть не должно.
* Задаем в index.php маршруты запросов и их обработчики. Пример:
```PHP
<?php

require __DIR__ . '/../vendor/autoload.php';

use Slim\Factory\AppFactory;

$app = AppFactory::create();
$app->addErrorMiddleware(true, true, true);

$app->get('/', function ($request, $response) {
    $response->write('Здесь должен открыться index.html');
    return $response;
});


$app->get('/games', function ($request, $response) {
    $response->write('Здесь должен вернуться JSON с данными о всех играх');
    return $response;
});

$app->post('/games', function ($request, $response) {
    $response->write('Здесь должен приняться JSON с данными о новой игре и записаться в БД');
    return $response;
});

$app->run();

```
* В данной работе можно весь код разместить в одном файле index.php. Если же потребуется вынести код в отдельные файлы, то они должны размещаться в каталоге Task08/src и автоматически загружаться в index.php.
* Приложение должно запускаться в браузере по адресам http://localhost:3000/index.html или просто http://localhost:3000, поэтому при получении GET-запроста на корневой адрес /, должна сработать переадресация на /index.html.

### Доработка документации проекта
* В файле README.md должен быть описан процесс запуска приложения.

### Отправка задания на проверку
* Отправить созданный коммит в "форкнутый" репозиторий на GitHub (`git push origin`).
* Сделать Pull Request для добавления ветки Task08 из репозитория в вашем профиле в https://github.com/andpop-mrsu.
* Задание будет считаться принятым после закрытия Pull Request в https://github.com/andpop-mrsu.
* После принятия задания преподавателем синхронизировать с оригинальным свой локальный репозиторий (`git pull upstream master`), потом репозиторий в своем профиле GitHub (`git push origin master`).
